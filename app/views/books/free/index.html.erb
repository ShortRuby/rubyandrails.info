<div class="space-y-12 md:space-y-28">

  <% unless @free_featured.empty? %>
    <%= render(Layout::HeroComponent.new(title: "free book", bg_color: "bg-red-700", bg: "book")) do |c| %>
      
      <% @free_featured.each do |book| %>
        <%= c.with_image do %>
          <div class="lg:w-2/3">
            <%= render BookCoverComponent.new(book: book) %> 
          </div>
        <% end %>

        <%= c.with_link do %>
          <div class="lg:self-end">
            <%= link_to books_free_path(book), class: "text-3xl inline-block md:leading-tight md:text-4xl 2xl:text-5xl font-bold md:mb-4 hover:opacity-90" do %> 
              <%= book.title %>
            <% end %>
            <div class="mb-8 xl:text-3xl">
              by <%= book.authors.map { |author| link_to(author.name, author, class: "hover:opacity-90") }.join(", ").html_safe %>
            </div>

            <div class="flex flex-wrap gap-2 mb-8 md:mb-0 items-start justify-start ">
              <%= render ButtonComponent.new(title: "Details", path: books_free_path(book)) do %>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 mt-1 w-7" viewBox="0 0 20 20" fill="currentColor"> <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" /> </svg>
              <% end %>
            </div>
          </div>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <%= render Layout::TwoColumnsComponent.new(title: "#{ @books.count } free books about Ruby & Ruby on Rails") do |c| %>
    <%= c.with_data do %>
      <p>There are a lot of good books about Ruby and Ruby on Rails. And many books you can read for free</p>
    <% end %>
  <% end %>

  <div class="grid grid-cols-1 lg:grid-cols-3 items-start xl:grid-cols-4 gap-4 md:gap-10 px-5 md:px-10 lg:px-16 xl:gap-16">
    <%= render (BookCardComponent.with_collection(@books)) %>
  </div>
</div>

