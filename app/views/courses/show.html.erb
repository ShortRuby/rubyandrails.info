<%= render "shared/btn_random", title: "Course" %>

<div class="bg-white rounded-2xl  sm:mr-5 lg:mr-0 p-5 sm:p-8 md:p-12 mb-20  border border-slate-200">

  <div class="flex flex-col lg:flex-row gap-5 lg:gap-8">
    <% unless @course.cover.nil? || @course.cover.empty? %>
      <div class="mb-4 w-full">
        <div class="md:hover:-translate-y-4 duration-300 transition-all relative isolate overflow-hidden rounded-lg shadow-md hover:shadow-xl shadow-slate-800/20">
          <%= image_tag("courses/#{@course.cover}", alt: "#{@course.title}", class: "shrink-0 lg:mr-auto block") %>
        </div>
      </div>
    <% end %>

    <div>

        <%= link_to "All Courses", courses_path, class: "mb-4 md:inline-block text-red-500" %>

        <h1 class="flex gap-2 items-start mb-2 text-xl font-bold lg:text-3xl font-custom leading-tight">
          <%= @course.title %>
          <% if @course.free %>
            <span class="text-sm bg-green-500 rounded-full font-bold text-white px-4 py-2">Free </span>
          <% end %>
        </h1>

      <%= render "shared/tag_in_card", tags: @course %>

      <div class="flex flex-wrap gap-2 mb-8 justify-center md:justify-start">
            <% if @course.courseSiteUrl.present? %>
          <%= link_to @course.courseSiteUrl, target: "_blank", data: {:"splitbee-event" => "get course"}, class: "rounded-md shadow-lg shadow-slate-600/10 px-6 hover:bg-slate-700 py-2 inline-block bg-slate-800 text-white text-base lg:text-xl font-custom" do %>
            Get Course
          <% end %>
        <% end %>
      </div>

      <div class="text-lg">
        <%= @course.content %>
      </div>
    </div>

  </div>
</div>

<%= render "shared/suggestions_books" %>

<h2 class="font-custom mb-8 font-bold">More courses</h2>
<div class="flex flex-col mb-20 gap-16 sm:gap-28">
  <%= render partial: "shared/course_card", collection: @more_courses, as: :course %>
</div>



<% if current_user.try(:admin?) %>
  <div class="fixed bottom-10 z-50 right-10 flex gap-10">
    <%= link_to 'Edit', edit_course_path(@course) %>
    <%= button_to 'Delete', @course, method: :delete, style: 'background: tomato' %>
  </div>
<% end %>

