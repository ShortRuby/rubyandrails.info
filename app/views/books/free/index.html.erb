<div class="flex flex-col md:flex-row gap-4 lg:gap-10">
  <div class="md:w-2/3 md:border-r md:border-slate-300 md:pr-10 ">

    <% unless @free_featured.empty? %>
      <% @free_featured.each do |book| %>

        <section class="flex mb-20 flex-col lg:flex-row gap-10">
          <%= link_to book_path(book), class: "w-1/2 md:w-1/2 mx-auto  block" do %> 
            <%= render BookCoverComponent.new(book: book) %> 
          <% end %>

          <div class="w-full flex flex-col justify-center items-center">
              <%= link_to book_path(book), class: "hover:text-red-600 text-3xl lg:text-5xl mb-2 inline-block md:leading-tight text-red-500 font-custom text-center" do %> 
            <h1>
                <%= book.title %>
            </h1>
              <% end %>
            <div class="mb-8">
              by <%= book.authors.map { |author| link_to(author.name, author, class: "hover:text-red-500") }.join(", ").html_safe %>
            </div>

            <div class="flex flex-wrap gap-2 items-start justify-start ">
              <%= link_to "Learn more", book_path(book), class: "font-custom self-start border border-slate-800 px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white"  %>
            </div>
          </div>
        </section>
      <% end %>
    <% end %>
  </div>

  <div class="hidden md:block px-6 ml-auto md:w-1/3 mb-20">
    <%= link_to "https://rubyandrails.info/learn/testing", class: "block mb-8" do %>
      <h3 class="font-bold font-custom hover:text-red-500">Books about Testing</h3>
      <p class="text-base text-slate-600">Learn Testing, and TDD, RSpec, Minitest</p>
    <% end %>

    <%= link_to "https://rubyandrails.info/learn/ruby", class: "mb-8 block" do %>
      <h3 class="font-bold font-custom hover:text-red-500">Podcasts about Ruby & Ruby on Rails</h3>
      <p class="text-base text-slate-600">Best podcasts to listen to on your commute</p>
    <% end %>

    <%= link_to "https://briefcake.com", target: "_blank", class: "block relative bg-white p-6" do %>
      <span data-splitbee-event="Click Banner" class="text-amber-500 text-sm absolute top-2 right-2">Sponsor</span>
      <h3 class="font-bold font-custom text-purple-500 mt-4">üç∞ Briefcake</h3>
      <p class="text-base text-slate-600">All your favourite feeds in one daily email</p>
    <% end %>

  </div>

</div>

<div class="mb-20 md:border-t md:border-slate-300 md:pt-20">
  <h1 class="mb-8 font-custom text-3xl md:text-5xl">
    <%= Book.free_books.count %> free books<br/>about Ruby & Ruby on Rails
  </h1>
  <div class="md:ml-64 leading-relaxed">
    <p class="mb-4">If you're looking for some free books to help you learn Ruby or Ruby on Rails, we've got a great list for you. Ruby is a great programming language for beginners, and Ruby on Rails is a popular web development framework. Whether you're just getting started or you're looking to brush up on your skills, these books will help you learn everything you need to know.</p>
  </div>

</div>


<h2 class="text-3xl font-custom mb-8">All Books</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-8 xl:gap-16 mb-20">
  <%= render (BookCardComponent.with_collection(@books)) %>
</div>


<div class="mb-20">
  <h2 class="text-3xl font-custom mb-8">Choose a topic you want to learn more about</h2>
  <div class="flex flex-wrap gap-2">
    <%= @tags.map { |t| link_to(t.title, t, class: "text-red-500 hover:text-red-500 bg-slate-100 px-4 py-2 hover:bg-slate-50") }.join(" ").html_safe %>
  </div>
</div>


