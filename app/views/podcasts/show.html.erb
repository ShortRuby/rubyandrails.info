<turbo-frame id="modal">
  <div class="modal" data-controller="modal" data-action="keyup@document->modal#escClose">
    <!-- This example requires Tailwind CSS v2.0+ -->
<div class="relative z-10" aria-labelledby="slide-over-title" role="dialog" aria-modal="true">
  <!--
    Background backdrop, show/hide based on slide-over state.

    Entering: "ease-in-out duration-500"
      From: "opacity-0"
      To: "opacity-100"
    Leaving: "ease-in-out duration-500"
      From: "opacity-100"
      To: "opacity-0"
  -->
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 overflow-hidden">
    <div class="absolute inset-0 overflow-hidden">
      <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10">
        <!--
          Slide-over panel, show/hide based on slide-over state.

          Entering: "transform transition ease-in-out duration-500 sm:duration-700"
            From: "translate-x-full"
            To: "translate-x-0"
          Leaving: "transform transition ease-in-out duration-500 sm:duration-700"
            From: "translate-x-0"
            To: "translate-x-full"
        -->
        <div class="pointer-events-auto relative w-screen max-w-md">
          <!--
            Close button, show/hide based on slide-over state.

            Entering: "ease-in-out duration-500"
              From: "opacity-0"
              To: "opacity-100"
            Leaving: "ease-in-out duration-500"
              From: "opacity-100"
              To: "opacity-0"
          -->
          <div class="absolute top-0 left-0 -ml-8 flex pt-4 pr-2 sm:-ml-10 sm:pr-4">
            <button type="button" tabindex=""-1  data-action="modal#close" class="rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white">
              <span class="sr-only">Close panel</span>
              <!-- Heroicon name: outline/x-mark -->
              <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div class="flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl">
            <div class="px-4 sm:px-6">
              <h2 class="text-lg font-medium text-gray-900" id="slide-over-title">Panel title</h2>
            </div>
            <div class="relative mt-6 flex-1 px-4 sm:px-6">
              <!-- Replace with your content -->
              <div class="absolute inset-0 px-4 sm:px-6">
                <div class="h-full border-2 border-dashed border-gray-200" aria-hidden="true"></div>
              </div>
              <!-- /End replace -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  </div>
</turbo-frame>


<div class="grid grid-cols-3 gap-y-16 md:gap-y-24 mb-20">

  <div class="col-span-3 md:col-span-2">
      <div class="group bg-white p-6 md:p-10 flex flex-col justify-between h-full shadow-xl shadow-slate-200/30 gap-4 md:gap-2">
        <% unless @podcast.cover.empty? %>
          <%= image_tag("podcasts/#{@podcast.cover}", alt: "#{@podcast.title}", class: "order-last md:order-first shrink lg:-mt-20 w-2/3 lg:w-1/2 mb-4") %>
        <% end %>
        <div class="mb-8">
          <%= link_to "All Podcasts", podcasts_path, class: "text-red-500" %>
            <h3 class="font-custom font-bold text-3xl mb-8 xl:text-5xl xl:leading-tight">
              <%= @podcast.title %>
            </h3>
          <div class="mb-4"><%= @podcast.content %></div>
        </div>
        <%= link_to "Listen", @podcast.url, target: "_blank", class: "font-custom self-start border border-slate-800 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white" %>
      </div>
  </div>

  <div class="col-span-3 md:col-span-1 md:ml-4 lg:ml-10 xl:ml-12">

    <div class="grid grid-cols-2 md:grid-cols-1">
      <%= render "shared/adv" %>

      <%= link_to books_free_index_path, class: "bg-white block mb-1 hover:bg-white/40 p-5" do %>
        <h3 class="font-bold text-base font-custom">Free Books</h3>
        <p class="text-base text-slate-500">Learn Testing, and TDD, RSpec, Minitest</p>
      <% end %>

      <%= link_to "https://rubyandrails.info/learn/testing", class: "hidden md:block bg-white hover:bg-white/40 p-5" do %>
        <h3 class="font-bold text-base font-custom">Books about Testing</h3>
        <span class="text-base text-slate-500">Learn Testing, and TDD, RSpec, Minitest</span>
      <% end %>
    </div>

  </div>
</div>

<div class="mb-20">
  <h2 class="text-3xl font-custom mb-8">More podcasts</h2>
  <div class="grid md:grid-cols-2 gap-8 md:gap-x-8 sm:gap-y-12">
    <% @more_podcasts.each do |podcast| %>
      <div class="group bg-white p-6 flex flex-col shadow-xl shadow-slate-200/30 justify-between gap-4 md:gap-2">

        <% unless podcast.cover.empty? %>
          <%= image_tag("podcasts/#{podcast.cover}", alt: "#{podcast.title}", class: "md:mb-2 shadow-lg sm:-mt-12 shadow-slate-800/10 block w-1/2 xl:w-1/3") %>
        <% end %>

        <div class="grow mb-4">
          <%= link_to podcast, class: "" do %>
            <h3 class="font-custom font-bold xl:leading-tight">
              <%= podcast.title %>
            </h3>
          <% end %>
          <p class=""><%= podcast.content %></p>
        </div>
        <%= link_to "Listen", podcast.url, target: "_blank", class: "font-custom self-start border border-slate-800 px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white" %>
      </div>
    <% end %>
  </div>
</div>

<% if current_user.try(:admin?) %>
  <div class="fixed bottom-10 right-10 flex gap-10">
  <%= link_to new_podcast_path, class: "fixed bottom-10 right-10" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 fill-red-500" viewBox="0 0 20 20" fill="currentColor"> <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" /> </svg>
  <% end %>
    <%= link_to 'Edit', edit_podcast_path(@podcast) %>
    <%= button_to 'Delete', @podcast, method: :delete, style: 'background: tomato' %>
  </div>
<% end %>
